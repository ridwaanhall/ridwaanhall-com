{% extends 'base_seo.html' %}
{% load static %}
{% block content %}
<div class="flex-1 md:ml-62">
    <main class="px-4 py-6 md:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <section class="py-0">
                <div class="mx-auto lg:mx-0">
                    <!-- Hero content with consistent left alignment -->
                    <div class="text-left">
                        <h1 class="text-2xl lg:text-3xl font-medium mb-2">
                            Hi, I'm
                            <span class="text-indigo-400">
                                {{ about.first_name }}
                            </span>
                            <svg class="inline w-6 h-6 -ml-1 animate-pulse" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M4.41377 17.859C4.77159 17.6504 5.23081 17.7713 5.43947 18.1291C6.26633 19.5471 7.53043 20.6193 9.0893 21.3151C9.46755 21.4839 9.63733 21.9274 9.46851 22.3057C9.29969 22.6839 8.85621 22.8537 8.47796 22.6849C6.66645 21.8764 5.14664 20.6046 4.14369 18.8847C3.93503 18.5269 4.05595 18.0677 4.41377 17.859Z" fill="currentColor"></path>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M18.9058 3.92194C17.8919 2.88646 16.4459 2.50452 15.0303 2.9073C14.6319 3.02066 14.2171 2.78959 14.1037 2.39119C13.9904 1.99279 14.2214 1.57792 14.6198 1.46456C16.558 0.913072 18.5745 1.43959 19.9775 2.8725C20.2673 3.16846 20.2623 3.64331 19.9664 3.9331C19.6704 4.2229 19.1956 4.2179 18.9058 3.92194Z" fill="currentColor"></path>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.1901 3.30839C10.9761 2.94131 10.3523 2.7187 9.71858 3.08085C9.08722 3.44168 8.97618 4.07772 9.18651 4.4384L11.7122 8.76952C11.9208 9.12734 11.7999 9.58656 11.4421 9.79522C11.0843 10.0039 10.6251 9.88296 10.4164 9.52514L7.04885 3.75032C6.83479 3.38324 6.21098 3.16063 5.57731 3.52278C4.94595 3.88361 4.83491 4.51965 5.04525 4.88033L8.83373 11.377C9.04239 11.7348 8.92147 12.1941 8.56365 12.4027C8.20583 12.6114 7.74661 12.4905 7.53795 12.1326L5.85418 9.24522C5.64012 8.87814 5.01631 8.65553 4.38264 9.01768C3.75128 9.37851 3.64024 10.0145 3.85058 10.3752L7.63906 16.8719C9.248 19.631 13.2184 20.5264 16.5853 18.6021C19.95 16.6792 21.146 12.8377 19.5408 10.085L17.0152 5.75387C16.8011 5.38679 16.1773 5.16418 15.5436 5.52633C14.9123 5.88716 14.8012 6.5232 15.0116 6.88389L16.6953 9.7713C16.7961 9.94411 16.8237 10.15 16.7719 10.3432C16.7201 10.5365 16.5933 10.701 16.4196 10.8003C14.8771 11.6818 14.4044 13.3863 15.0797 14.5443C15.2884 14.9022 15.1675 15.3614 14.8096 15.57C14.4518 15.7787 13.9926 15.6578 13.7839 15.3C12.8712 13.7348 13.24 11.8501 14.4189 10.5181C14.7485 10.1457 14.8613 9.60396 14.6108 9.17438L11.1901 3.30839Z" fill="currentColor"></path>
                                </g>
                            </svg>
                        </h1>

                        <div class="flex flex-wrap items-center justify-start my-3">
                            <span>{{ about.role }}</span>
                            <span class="mx-2">•</span>
                            <span>{{ about.location.residency }}, {{ about.location.country }} {{ about.location.flag }}</span>
                            {% if about.is_open_to_work %}
                            <a href="{% url 'openhire' %}" class="inline-flex mx-1 items-center px-2 py-1 rounded-full text-xs font-medium bg-green-900/30 text-green-400 border border-green-800/50">
                                <span class="relative inline-flex size-2 mr-1.5">
                                    <span class="absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75"></span>
                                    <span class="relative inline-flex size-2 rounded-full bg-green-500"></span>
                                </span>
                                Open to Work
                            </a>
                            {% endif %}
                            {% if about.is_hiring %}
                            <a href="{% url 'openhire' %}" class="inline-flex mx-1 items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-900/30 text-blue-400 border border-blue-800/50">
                                <span class="relative inline-flex size-2 mr-1.5">
                                    <span class="absolute inline-flex h-full w-full animate-ping rounded-full bg-blue-400 opacity-75"></span>
                                    <span class="relative inline-flex size-2 rounded-full bg-blue-500"></span>
                                </span>
                                Hiring
                            </a>
                            {% endif %}
                        </div>

                        <!-- Optimized LCP element with font preloading hint -->
                        <p class="mt-1 sm:mt-2 text-base sm:text-lg leading-relaxed mb-4" style="font-display: swap;">
                            {% if about.short_description|length > 0 %} {{ about.short_bio }} {% else %} Coding by day, memorizing Quran by heart—who else but me? I'm a passionate Python developer and DevOps engineer
                            crafting digital solutions that matter. {% endif %}
                        </p>

                        <div class="flex flex-row mb-6 sm:mb-6 md:mb-8 justify-start gap-2 sm:gap-3">
                            <a
                                href="{% url 'about' %}"
                                class="group inline-flex items-center justify-center px-4 py-2 sm:px-5 sm:py-2.5 text-sm rounded-full bg-indigo-800 hover:bg-indigo-700 transition-all duration-300 shadow-md hover:shadow-lg hover:shadow-indigo-700/30"
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="w-4 h-4 sm:w-5 sm:h-5 mr-1.5 sm:mr-2 group-hover:animate-pulse group-hover:-rotate-12 transition-transform duration-300"
                                    fill="currentColor"
                                    viewBox="0 0 48 48"
                                    stroke="currentColor"
                                >
                                    <path
                                        d="M24 3a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm0 4a6 6 0 1 0 0 12.00A6 6 0 0 0 24 7Zm0 19c10.3 0 16.67 6.99 17 17 .02.55-.43 1-1 1h-2c-.54 0-.98-.45-1-1-.3-7.84-4.9-13-13-13s-12.7 5.16-13 13c-.02.55-.46 1-1.02 1h-2c-.55 0-1-.45-.98-1 .33-10.01 6.7-17 17-17Z"
                                    ></path>
                                </svg>
                                <span>About</span>
                            </a>
                            <a
                                href="{% url 'contact' %}"
                                class="group inline-flex items-center justify-center px-4 py-2 sm:px-5 sm:py-2.5 text-sm rounded-full bg-zinc-800 hover:bg-zinc-700 transition-all duration-300 shadow-md hover:shadow-lg hover:shadow-zinc-700/30"
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="w-4 h-4 sm:w-5 sm:h-5 mr-1.5 sm:mr-2 group-hover:animate-pulse group-hover:-rotate-12 transition-transform duration-300"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke="currentColor"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
                                    />
                                </svg>
                                <span>Contact</span>
                            </a>
                            {% if about.is_open_to_work %}
                            <a
                                href="{% url 'openhire' %}"
                                class="group inline-flex items-center justify-center px-4 py-2 sm:px-5 sm:py-2.5 text-sm rounded-full bg-green-800 hover:bg-green-700 transition-all duration-300 shadow-md hover:shadow-lg hover:shadow-green-700/30"
                            >
                                <svg
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="w-4 h-4 sm:w-5 sm:h-5 mr-1.5 sm:mr-2 group-hover:animate-pulse group-hover:-rotate-12 transition-transform duration-300 group-hover:text-orange-500"
                                >
                                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                    <g id="SVGRepo_iconCarrier">
                                        <path d="M5.926 20.574a7.26 7.26 0 0 0 3.039 1.511c.107.035.179-.105.107-.175-2.395-2.285-1.079-4.758-.107-5.873.693-.796 1.68-2.107 1.608-3.865 0-.176.18-.317.322-.211 1.359.703 2.288 2.25 2.538 3.515.394-.386.537-.984.537-1.511 0-.176.214-.317.393-.176 1.287 1.16 3.503 5.097-.072 8.19-.071.071 0 .212.072.177a8.761 8.761 0 0 0 3.003-1.442c5.827-4.5 2.037-12.48-.43-15.116-.321-.317-.893-.106-.893.351-.036.95-.322 2.004-1.072 2.707-.572-2.39-2.478-5.105-5.195-6.441-.357-.176-.786.105-.75.492.07 3.27-2.063 5.352-3.922 8.059-1.645 2.425-2.717 6.89.822 9.808z" fill="currentColor" class="group-hover:fill-orange-500 transition-colors duration-300"></path>
                                    </g>
                                </svg>
                                <span>Hireable</span>
                            </a>
                            {% else %}
                            <a
                                href="{{ about.donate.0.github_sponsor }}"
                                class="group inline-flex items-center justify-center px-4 py-2 sm:px-5 sm:py-2.5 text-sm rounded-full bg-pink-800 hover:bg-pink-700 transition-all duration-300 shadow-md hover:shadow-lg hover:shadow-pink-700/30"
                            >
                                <svg class="w-4 h-4 sm:w-5 sm:h-5 mr-1.5 sm:mr-2 animate-pulse group-hover:animate-bounce group-hover:-rotate-12 transition-transform duration-300" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                </svg>
                                <span>Support</span>
                            </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </section>

            <!-- Lazy load non-critical sections -->
            <div class="w-full mx-auto border-t border-zinc-700 my-4 md:my-6 lg:my-6"></div>

            <div id="lazy-content">
                {% include 'blog/latest-blogs.html' %}

                <div class="w-full mx-auto border-t border-zinc-700 my-4 md:my-6 lg:my-6"></div>

                {% include 'core/skills.html' %}
                {% include 'about/sponsor-me.html' %}
            </div>
        </div>
    </main>
</div>
{% endblock %}
{% block scripts %}
<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Defer slider initialization to improve LCP
        setTimeout(() => {
            const slider = document.getElementById("blogSlider");
            if (!slider) return;

            const cardWidth = 285;
            let autoSlideInterval;

            function slideNext() {
                const maxScroll = slider.scrollWidth - slider.clientWidth;
                if (slider.scrollLeft >= maxScroll) {
                    slider.scrollTo({ left: 0, behavior: "smooth" });
                } else {
                    slider.scrollBy({ left: cardWidth, behavior: "smooth" });
                }
            }

            function startAutoSlide() {
                autoSlideInterval = setInterval(slideNext, 6000);
            }

            function stopAutoSlide() {
                if (autoSlideInterval) {
                    clearInterval(autoSlideInterval);
                }
            }

            slider.addEventListener("mouseenter", stopAutoSlide);
            slider.addEventListener("mouseleave", startAutoSlide);
            slider.addEventListener("touchstart", stopAutoSlide);
            slider.addEventListener("touchend", startAutoSlide);

            startAutoSlide();
        }, 100);
    });
</script>
{% endblock %}
